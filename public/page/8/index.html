<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>第 8 页 | 木哈哈</title>
  <meta name="author" content="Chen, Zai-Chun">
  
  <meta name="description" content="天亮了，天黑了，天又亮了，天又黑了...">
  
  
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">

  
  <meta property="og:site_name" content="木哈哈">

  
    <meta property="og:image" content="undefined">
  

  
    <link rel="alternative" href="/atom.xml" title="木哈哈" type="application/atom+xml">
  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-31585781-1', 'auto');
  ga('send', 'pageview');
</script>

</head></html>
 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">木哈哈</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class="fa fa-archive"></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class="fa fa-tags"></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class="fa fa-user"></i>About
			</a>
		  </li>
		  
		  <li>
			<a href="/atom.xml" title="Atom 1.0 feed">
			  <i class="fa fa-rss"></i>rss
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>
  <div class="container">
  	<div class="content">
    	 <div class="page-header">
  <h1>阿尔萨斯，没有霜之哀伤你就是一坨屎！</h1>
</div>

<div class="row page">

	
	<div class="col-md-9">
	

		

		<div class="mypage">
		
		<!-- title and entry -->
		
			<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> Dec 1 2011 </div>
			<div class="article-title"><a href="/2011-12-01-turn-on-coredump-on-linux.html">linux下开启coredump</a></div>						
		</h3>
			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <p>当linux下的程序运行异常时，会在运行程序的目录下生成core dump文件。通过<code>ulimit -c</code>查看，结果为0则为关闭（默认值）.</p>
<p>临时开启只要在shell中执行</p>
<p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ulimit</span> -c unlimited</span><br></pre></td></tr></table></figure></p>
<p>也可以在<code>~/.profile</code>文件中添加来默认开启core dump。</p>
	
	</div>
	
  
</div>
	<a type="button" href="/2011-12-01-turn-on-coredump-on-linux.html#more" class="btn btn-default more">阅读此文</a>
</div>
		
			<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> Nov 30 2011 </div>
			<div class="article-title"><a href="/2011-11-30-mercurial-hg-add-progress.html">为Mercurial（hg）添加进度条</a></div>						
		</h3>
			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <p>hg1.5之后内置了progress扩展，可以直接启用：</p>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[extensions]&#10;progress =</span><br></pre></td></tr></table></figure></p>
	
	</div>
	
  
</div>
	<a type="button" href="/2011-11-30-mercurial-hg-add-progress.html#more" class="btn btn-default more">阅读此文</a>
</div>
		
			<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> Nov 18 2011 </div>
			<div class="article-title"><a href="/2011-11-18-chrome-vim-key-binding.html">chrome vim按键绑定</a></div>						
		</h3>
			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <p><a href="https://github.com/philc/vimium" target="_blank" rel="external">传送门</a></p>
<p>插件安装<a href="https://chrome.google.com/webstore/detail/dbepggeogbaibhgnhhndojpepiihcmeb" target="_blank" rel="external">地址</a></p>
<p>Navigating the current page:</p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?       show the help dialog for a list of all available keys&#10;h       scroll left&#10;j       scroll down&#10;k       scroll up&#10;l       scroll right&#10;gg      scroll to top of the page&#10;G       scroll to bottom of the page&#10;d       scroll down half a page&#10;u       scroll up half a page&#10;f       open a link in the current tab&#10;F       open a link in a new tab&#10;r       reload&#10;gs      view source&#10;i       enter insert mode -- all commands will be ignored until&#10;        you hit esc to exit&#10;yy      copy the current url to the clipboard&#10;yf      copy a link url to the clipboard&#10;gf      cycle forward to the next frame</span><br></pre></td></tr></table></figure></p>
<p>Using find:<br>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?       show the help dialog for a list of all available keys&#10;h       scroll left&#10;j       scroll down&#10;k       scroll up&#10;l       scroll right&#10;gg      scroll to top of the page&#10;G       scroll to bottom of the page&#10;d       scroll down half a page&#10;u       scroll up half a page&#10;f       open a link in the current tab&#10;F       open a link in a new tab&#10;r       reload&#10;gs      view source&#10;i       enter insert mode -- all commands will be ignored until&#10;        you hit esc to exit&#10;yy      copy the current url to the clipboard&#10;yf      copy a link url to the clipboard&#10;gf      cycle forward to the next frame</span><br></pre></td></tr></table></figure></p>
<p>Navigating your history:<br>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?       show the help dialog for a list of all available keys&#10;h       scroll left&#10;j       scroll down&#10;k       scroll up&#10;l       scroll right&#10;gg      scroll to top of the page&#10;G       scroll to bottom of the page&#10;d       scroll down half a page&#10;u       scroll up half a page&#10;f       open a link in the current tab&#10;F       open a link in a new tab&#10;r       reload&#10;gs      view source&#10;i       enter insert mode -- all commands will be ignored until&#10;        you hit esc to exit&#10;yy      copy the current url to the clipboard&#10;yf      copy a link url to the clipboard&#10;gf      cycle forward to the next frame</span><br></pre></td></tr></table></figure></p>
<p>Manipulating tabs:<br>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?       show the help dialog for a list of all available keys&#10;h       scroll left&#10;j       scroll down&#10;k       scroll up&#10;l       scroll right&#10;gg      scroll to top of the page&#10;G       scroll to bottom of the page&#10;d       scroll down half a page&#10;u       scroll up half a page&#10;f       open a link in the current tab&#10;F       open a link in a new tab&#10;r       reload&#10;gs      view source&#10;i       enter insert mode -- all commands will be ignored until&#10;        you hit esc to exit&#10;yy      copy the current url to the clipboard&#10;yf      copy a link url to the clipboard&#10;gf      cycle forward to the next frame</span><br></pre></td></tr></table></figure></p>
<p>Additional advanced browsing commands:</p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?       show the help dialog for a list of all available keys&#10;h       scroll left&#10;j       scroll down&#10;k       scroll up&#10;l       scroll right&#10;gg      scroll to top of the page&#10;G       scroll to bottom of the page&#10;d       scroll down half a page&#10;u       scroll up half a page&#10;f       open a link in the current tab&#10;F       open a link in a new tab&#10;r       reload&#10;gs      view source&#10;i       enter insert mode -- all commands will be ignored until&#10;        you hit esc to exit&#10;yy      copy the current url to the clipboard&#10;yf      copy a link url to the clipboard&#10;gf      cycle forward to the next frame</span><br></pre></td></tr></table></figure></p>
<p>Vimium supports command repetition so, for example, hitting '5t' will open 5 tabs in rapid succession. ESC (or &lt;c-[&gt;) will clear any partial commands in the queue and will also exit insert and find modes.</p>
<p>自定义快捷键详情请自行阅读<a href="https://github.com/philc/vimium#readme" target="_blank" rel="external">readme</a></p>
	
	</div>
	
  
</div>
	<a type="button" href="/2011-11-18-chrome-vim-key-binding.html#more" class="btn btn-default more">阅读此文</a>
</div>
		
			<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> Nov 18 2011 </div>
			<div class="article-title"><a href="/2011-11-18-mount-bind.html">mount –bind</a></div>						
		</h3>
			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <p>我想应该大家都会用版本管理来处理配置文件吧。本人一般用git来管理自己的配置（emacs, vim, ssh, zshrc, svn, git, hg…），我将这写配置文件放到了一个git repo中。但是很多时候需要对这些文件进行修改，我想大家也不会把文件在repo中修改好之后然后手动copy到相应的目录中。这里一般有两种方法来避免手动拷贝，一种是通过Makefile的方式，另外一种就是建立文件的软链接。我原来一直采用的是后者，因为我不想没一次修改都make一下。对于建立软链接的方式，一般的软件都能很好的处理。   我的git repo放在windows分区（这样windows和linux都能使用），用virtualbox安装了archlinux，通过mount vboxsf的方式mount windows分区到linux下。这里mount vboxsf的时候需要注意权限问题，然后像.ssh/config文件会出现访问权限问题。我的 =/etc/fstab= 文件如下:</p>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># /etc/fstab&#10;sharename mountpoint vboxsf \&#10;rw,fmode=0644,dmode=0755,uid=1000,gid=1000,exec 0 0</span><br></pre></td></tr></table></figure></p>
<p>对于symlink模式，绝大部分软件都能满足了，但是这里有个意外, <code>Oracle</code>的<code>gethostbyname</code>对于<code>/etc/hosts</code> symlinks是不认的，比如我创建一个软链接到<code>/etc/hosts</code>，启动oracle会出现
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ORA-00600 arguments: [keltnfy-ldmInit], [46], [1]</span><br></pre></td></tr></table></figure></p>
<p>既然软链接不行，这个时候就需要<code>mount –bind</code>的帮助了。   <code>mount –bind</code>是将一个目录中的内容挂载到另一个目录上，用法是:</p>
<p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mount --bind olddir newdir</span><br><span class="line">mount --bind olddir/file newdir/file</span><br></pre></td></tr></table></figure></p>
<p>如果想将<code>mount –bind</code>写入<code>/etc/fstab</code>，则用法是：</p>
<p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">olddir newdir none <span class="built_in">bind</span> <span class="number">0</span> <span class="number">0</span></span><br></pre></td></tr></table></figure></p>
<p>这里又有一个问题了，我如果想把/etc/fstab也放到git repo中进行管理怎么办呢？由于不可能为/etc/fstab创建symlink，也不能为其使用mount –bind的方式到/etc/fstab。那就只能在git repo中想办法了。可是git是不会follow symlink的，如果我将/etc/fstab软链接到git repo中，git并不会将该文件加入到repo，加入的只是一个symlink而已。   解决办法就是反过来bind, 将/etc/fstab bind到git repo中的目录:)</p>
	
	</div>
	
  
</div>
	<a type="button" href="/2011-11-18-mount-bind.html#more" class="btn btn-default more">阅读此文</a>
</div>
		
			<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> Nov 17 2011 </div>
			<div class="article-title"><a href="/2011-11-17-common-proxy-settings.html">常用软件的代理设置</a></div>						
		</h3>
			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># http_proxy</span></span><br><span class="line"><span class="built_in">export</span> http_proxy=host:port</span><br><span class="line"></span><br><span class="line"><span class="comment"># https_proxy</span></span><br><span class="line"><span class="built_in">export</span> https_proxy=host:port</span><br><span class="line"></span><br><span class="line"><span class="comment"># ftp_proxy</span></span><br><span class="line"><span class="built_in">export</span> ftp_proxy=host:port</span><br><span class="line"></span><br><span class="line"><span class="comment"># rsync proxy</span></span><br><span class="line"><span class="built_in">export</span> RSYNC_PROXY=host:port</span><br></pre></td></tr></table></figure></p>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># ssh over http_proxy depends on your tools used.&#10;# Modify .ssh/config file for host configuration:&#10;# Following are connect.c and corkscrew example.&#10;# For connect.c, -h option means use http_proxy&#10;# environment. &#10;Host *&#10;  ProxyCommand corkscrew http-proxy.example.com 8080 %h %p&#10;  ProxyCommand connect -h %h %p&#10;  ProxyCommand connect -H proxy-host:proxy-port %h %p</span><br></pre></td></tr></table></figure></p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># git over http_proxy&#10;export GIT_PROXY_COMMAND=&#34;connect -h $@&#34;</span><br></pre></td></tr></table></figure></p>
	
	</div>
	
  
</div>
	<a type="button" href="/2011-11-17-common-proxy-settings.html#more" class="btn btn-default more">阅读此文</a>
</div>
		
			<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> Nov 16 2011 </div>
			<div class="article-title"><a href="/2011-11-16-merge-git-repositories-to-subdirectory.html">git合并多个repositories到子目录</a></div>						
		</h3>
			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <p>在每个repo都很小的情况下，维护多个repo是很麻烦的事情。如何在保留原来版本信息的情况下将repo合并到另外一个repo的子目录下呢？有很多的方法，比如在不删除原来的repo，使用submodule。或者使用subtree的方式。但是我不想用submodule保留原来的repo，而且感觉subtree也是一个比较麻烦的东东。这里要介绍git的read-tree（可以参考<a href="http://blog.ossxp.com/2010/10/2041/" target="_blank" rel="external">这里</a>)。   网上讲了很多，我总结一下并写了一个脚本repomerge.sh。先把脚本贴出来</p>
<p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="shebang">#!/bin/sh</span><br><span class="line"></span></span><br><span class="line">git remote add <span class="operator">-f</span> <span class="variable">$1</span> <span class="variable">$2</span></span><br><span class="line">git merge <span class="operator">-s</span> ours --no-commit <span class="variable">$1</span>/master</span><br><span class="line">git <span class="built_in">read</span>-tree --prefix=<span class="variable">$1</span>/ -u <span class="variable">$1</span>/master</span><br><span class="line">git commit -m <span class="string">"merging <span class="variable">$1</span> into subdirectory"</span></span><br></pre></td></tr></table></figure></p>
<p>使用的方法是$1为子目录名字，$2为repo的路径。</p>
<p>这里有一个问题需要注意，合并到的repo（即目标repo）不能为空（至少要有一个commit)。</p>
<p>比如要合并一个repo A 到A目录，repo B到B目录</p>
<p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> dest-repo-dir</span><br><span class="line">git init .</span><br><span class="line"></span><br><span class="line"><span class="comment"># add one file and commit</span></span><br><span class="line">touch just-test-file</span><br><span class="line">git add just-test-file</span><br><span class="line">git commit -am <span class="string">"init"</span></span><br><span class="line"></span><br><span class="line">/path/to/repomerge.sh A /path/to/repo/A</span><br><span class="line">/path/to/repomerge.sh B /path/to/repo/B</span><br></pre></td></tr></table></figure></p>
<p>这样repo A和repo B就分别被合并到了A、B目录了。</p>
	
	</div>
	
  
</div>
	<a type="button" href="/2011-11-16-merge-git-repositories-to-subdirectory.html#more" class="btn btn-default more">阅读此文</a>
</div>
		
			<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> Nov 15 2011 </div>
			<div class="article-title"><a href="/2011-11-15-install-oracle-10gr2-on-archlinux.html">Archlinux下安装oracle 10gr2 Enterprise</a></div>						
		</h3>
			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <p>由于Oracle XE精简了很多，跟教科书上很多不一样，所以还是装一个企业版吧。</p>
<p><a href="http://meansonw-work.blogspot.com/2008/10/archlinux-oracle-10g.html" target="_blank" rel="external">参考链接</a></p>
<p>安装跟archlinux的wiki上差不多，注意两个链接必须创建：</p>
<p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo ln <span class="operator">-s</span> /usr/lib/libgcc_s.so.<span class="number">1</span> /lib/libgcc_s.so.<span class="number">1</span></span><br><span class="line">sudo ln <span class="operator">-s</span> /bin/tr /usr/bin/tr</span><br></pre></td></tr></table></figure></p>
	
	</div>
	
  
</div>
	<a type="button" href="/2011-11-15-install-oracle-10gr2-on-archlinux.html#more" class="btn btn-default more">阅读此文</a>
</div>
		
			<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> Nov 15 2011 </div>
			<div class="article-title"><a href="/2011-11-15-convert-hg-to-git.html">将hg转换为git</a></div>						
		</h3>
			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <p>首先安装<a href="http://repo.or.cz/w/fast-export.git" target="_blank" rel="external">fast-export</a></p>
<p>基本命令:</p>
<p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> somedir</span><br><span class="line">git init .</span><br><span class="line">/path/to/fast-export -r /path/to/hg/repo</span><br><span class="line">git reset HEAD</span><br><span class="line">git checkout .</span><br><span class="line">git remote add origin user@server/repo.git</span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure></p>
<p>That's all!</p>
	
	</div>
	
  
</div>
	<a type="button" href="/2011-11-15-convert-hg-to-git.html#more" class="btn btn-default more">阅读此文</a>
</div>
		
			<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> Nov 13 2011 </div>
			<div class="article-title"><a href="/2011-11-13-emacs_sys_process_environment.html">Emacs进程/系统环境变量</a></div>						
		</h3>
			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <p>Emacs中获取进程（系统）环境变量并进行修改，比如<code>http_proxy</code>:</p>
<p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">getenv</span> <span class="string">"http_proxy"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">setenv</span> <span class="string">"http_proxy"</span> <span class="string">"http://proxy-server:port"</span>)</span></span><br></pre></td></tr></table></figure></p>
	
	</div>
	
  
</div>
	<a type="button" href="/2011-11-13-emacs_sys_process_environment.html#more" class="btn btn-default more">阅读此文</a>
</div>
		
			<!-- display as entry -->	
		<h3 class="title">
			<div class="date"> Nov 13 2011 </div>
			<div class="article-title"><a href="/2011-11-13-pymacs.html">Pymacs</a></div>						
		</h3>
			<div class="entry">
  <div class="row">
  
	<div class="col-md-12">
	  
	
	  <p>一直以来配置emacs都是从网上抄的，想写一些东西来配置一下emacs使之更加的方便，但是elisp的括号让人望而生畏。所以还是用python来扩展吧。幸好有<a href="http://pymacs.progiciels-bpi.ca/index.html" target="_blank" rel="external">pymacs</a>这个强大的东东。</p>
<p>官方对其的介绍：</p>
<blockquote>
<p>Pymacs is a powerful tool which, once started from Emacs, allows both-way communication between Emacs Lisp and Python. Pymacs aims Python as an extension language for Emacs rather than the other way around, and this asymmetry is reflected in some design choices. Within Emacs Lisp code, one may load and use Python modules. Python functions may themselves use Emacs services, and handle Emacs Lisp objects kept in Emacs Lisp space.</p>
</blockquote>
<p>archlinux下安装pymacs：</p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo pacman -S pymacs</span><br></pre></td></tr></table></figure></p>
<p>配置pymacs, 在.emacs中添加：</p>
<p><figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="list">(<span class="keyword">autoload</span> <span class="quoted">'pymacs-apply</span> <span class="string">"pymacs"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">autoload</span> <span class="quoted">'pymacs-call</span> <span class="string">"pymacs"</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">autoload</span> <span class="quoted">'pymacs-eval</span> <span class="string">"pymacs"</span> <span class="literal">nil</span> <span class="literal">t</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">autoload</span> <span class="quoted">'pymacs-exec</span> <span class="string">"pymacs"</span> <span class="literal">nil</span> <span class="literal">t</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">autoload</span> <span class="quoted">'pymacs-load</span> <span class="string">"pymacs"</span> <span class="literal">nil</span> <span class="literal">t</span>)</span></span><br><span class="line"><span class="list">(<span class="keyword">eval-after-load</span> <span class="string">"pymacs"</span></span><br><span class="line">  <span class="quoted">'(add-to-list 'pymacs-load-path <span class="string">"~/.emacs.d/my-lisp"</span>)</span>)</span></span><br></pre></td></tr></table></figure></p>
<p>现在我要将elisp的函数</p>
<p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">(defun proxyfunc(server port)</span><br><span class="line">  (setenv "http_proxy" (concat "http://"server":"port))</span><br><span class="line">  (setenv "https_proxy" (concat "https://"server":"port))</span><br><span class="line">  (setenv "ftp_proxy" (concat "http://"server":"port))</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">(defun proxyoff()</span><br><span class="line">  (interactive)</span><br><span class="line">  (setenv "http_proxy" "")</span><br><span class="line">  (setenv "https_proxy" "")</span><br><span class="line">  (setenv "ftp_proxy" "")</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">(defun proxyjpn()</span><br><span class="line">  (interactive)</span><br><span class="line">  (proxyfunc "16.146.32.100" "8080")</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">转换为Python, 如setproxy.py(将文件放到PYTHONPATH中）</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">#!/usr/bin/env python</span><br><span class="line"># -*- coding: utf-8 -*-</span><br><span class="line">    </span><br><span class="line">import os</span><br><span class="line">    </span><br><span class="line">def setproxy(server, port):</span><br><span class="line">    os.environ['http_proxy'] = 'http://'+server+':'+port</span><br><span class="line">    os.environ['https_proxy'] = 'https://'+server+':'+port</span><br><span class="line">	os.environ['ftp_proxy'] = 'http://'+server+':'+port</span><br><span class="line">    </span><br><span class="line">def setproxyoff():</span><br><span class="line">    os.environ['http_proxy'] = ""</span><br><span class="line">	os.environ['https_proxy'] = ""</span><br><span class="line">	os.environ['ftp_proxy'] = ""</span><br><span class="line">    </span><br><span class="line">def proxyjpn():</span><br><span class="line">    setproxy('16.146.32.100', '8080')</span><br><span class="line">    </span><br><span class="line">def proxysgn():</span><br><span class="line">    setproxy('16.158.235.10', '8080')</span><br><span class="line">    </span><br><span class="line"># need to set the property interaction</span><br><span class="line">proxyjpn.interaction = ""</span><br><span class="line">setproxyoff.interaction = ""</span><br><span class="line">proxysgn.interaction = ""</span><br></pre></td></tr></table></figure></p>
<p>通过pymacs-load加载python模块</p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">M-x pymacs-load RET MODULE RET PREFIX RET&#10;# e.g. M-x pymacs-load setproxy RET setproxy- RET</span><br></pre></td></tr></table></figure></p>
<p>调用python函数</p>
<p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">M-x setproxy-proxyjpn</span><br></pre></td></tr></table></figure></p>
<p>对于pymacs的详细教程，中文版可以参考<a href="http://www.cnblogs.com/rockcode/archive/2011/08/20/2147404.html" target="_blank" rel="external">这里</a></p>
	
	</div>
	
  
</div>
	<a type="button" href="/2011-11-13-pymacs.html#more" class="btn btn-default more">阅读此文</a>
</div>
		

		</div>

		<!-- pagination -->
		<div>
  		<center>
		<div class="pagination">
<ul class="pagination">
	 
		
    	<li class="prev"><a href="/page/7/" class="alignleft prev"><i class="fa fa-arrow-circle-o-left"></i> 上一页</a></li>
  		

        <li><a href="/"><i class="fa fa-home"></i>Home</a></li>

		
		   <li class="next"> <a href="/page/9/" class="alignright next">下一页<i class="fa fa-arrow-circle-o-right"></i></a> </li>          
        
	
</ul>
</div>
  		</center>
		</div>

		
		
	</div> <!-- col-md-9 -->

	
		<div class="col-md-3">
	<div id="sidebar">
	
			<div class="form-group has-success has-feedback">
  <form action="//google.com/search" method="get" accept-charset="utf-8">
    <input type="search" name="q" results="0" placeholder="搜索" class="form-control">
    <input type="hidden" name="q" value="site:yesokay.herokuapp.com">	
  </form>
</div>
		
			<div class="widget">
		<h4>标签云</h4>
		<ul class="tag_box inline list-unstyled">		
		
			<li><a href="/tags/无所事事/">无所事事<span>29</span></a></li>
		
			<li><a href="/tags/autoproxy/">autoproxy<span>2</span></a></li>
		
			<li><a href="/tags/telnet/">telnet<span>2</span></a></li>
		
			<li><a href="/tags/Google-Chrome/">Google Chrome<span>1</span></a></li>
		
			<li><a href="/tags/GLSL/">GLSL<span>1</span></a></li>
		
			<li><a href="/tags/ios/">ios<span>8</span></a></li>
		
			<li><a href="/tags/octopress/">octopress<span>4</span></a></li>
		
			<li><a href="/tags/visualstudio/">visualstudio<span>1</span></a></li>
		
			<li><a href="/tags/Ogre/">Ogre<span>2</span></a></li>
		
			<li><a href="/tags/Google/">Google<span>14</span></a></li>
		
			<li><a href="/tags/git/">git<span>12</span></a></li>
		
			<li><a href="/tags/dns/">dns<span>1</span></a></li>
		
			<li><a href="/tags/mercurial/">mercurial<span>7</span></a></li>
		
			<li><a href="/tags/macosx/">macosx<span>1</span></a></li>
		
			<li><a href="/tags/google-voice/">google_voice<span>1</span></a></li>
		
			<li><a href="/tags/svn/">svn<span>2</span></a></li>
		
			<li><a href="/tags/p2p/">p2p<span>1</span></a></li>
		
			<li><a href="/tags/orkut/">orkut<span>1</span></a></li>
		
			<li><a href="/tags/unix/">unix<span>1</span></a></li>
		
			<li><a href="/tags/emacs/">emacs<span>71</span></a></li>
		
		
		   <li><a href="/tags">...<span>87</span></a></li>
		 
		</ul>
	</div>
		
			<div class="widget">
  <h4>最新文章</h4>
  <ul class="entry list-unstyled">
    
      <li>
        <a href="/2015-08-07-update-hexo-to-version3.html"><i class="fa fa-file-o"></i>将 hexo 从2.8.3升级到了3.1.1...</a>
      </li>
    
      <li>
        <a href="/2015-08-06-hide-console-window-from-batch-process-starting.html"><i class="fa fa-file-o"></i>bat 中启动进程并隐藏窗口...</a>
      </li>
    
      <li>
        <a href="/2013-06-23-long-time-no-update.html"><i class="fa fa-file-o"></i>确实很久没有更新了...</a>
      </li>
    
      <li>
        <a href="/2013-06-23-test-auto-build.html"><i class="fa fa-file-o"></i>用travis-ci自动生成hexo...</a>
      </li>
    
      <li>
        <a href="/2013-06-23-install-gevent-on-mac-os-x.html"><i class="fa fa-file-o"></i>Mac OS X下安装gevent...</a>
      </li>
    
  </ul>
</div>
		
			<div class="widget">
	<h4>链接</h4>
	<ul class="blogroll list-unstyled">
	
		<li><i class="fa fa-github"></i><a href="https://github.com/wzpan/freemind/" title="Freemind's Github repository." target="_blank">Freemind</a></li>
	
		<li><i class="fa fa-github"></i><a href="http://www.github.com/chenzaichun" title="My Github account." target="_blank">My Github</a></li>
	
		<li><i class="fa fa-linkedin"></i><a href="http://http://gsgundam.com/" title="GSGUNDAM砍柴工的博客" target="_blank">GSGUNDAM砍柴工</a></li>
	
	</ul>
</div>
		
	</div> <!-- sidebar -->
</div> <!-- col-md-3 -->
	
	
</div> <!-- row-fluid -->
	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  &copy; 2015 Chen, Zai-Chun
  
      with help from <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="http://getbootstrap.com/" target="_blank">Twitter Bootstrap</a>. Theme by <a href="http://github.com/wzpan/hexo-theme-freemind/">Freemind</a>.    
</p> </footer>
</div> <!-- container-narrow -->
  <a id="gotop" href="#">   
  <span>▲</span> 
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>


<script type="text/javascript">
  var duoshuoQuery = { short_name: 'yesokay' };
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';
    ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>
</body>
   